---
const { languages, maxLevel } = Astro.props;
---

{
	languages.map(({ title, level, levelName }) => {
		const width = Math.round((level / maxLevel) * 100);

		return (
			<div class="mt-2 flex w-[90%] flex-col justify-center items-center mx-auto relative">
				<h3 class="text-lg  mb-1 font-bold text-center">{title}</h3>
				<div class={`w-full h-7 rounded-full bg-gray-300`}>
					<div
						class={`h-7 rounded-full ${
							level === maxLevel ? 'rounded' : 'rounded-r'
						} text-right pr-5 font-bold bg-primary-500 dark:bg-secondary-500 flex items-center justify-end text-white`}
						style={{ width: `${width}%` }}
					>
						{levelName}
					</div>
				</div>
			</div>
		);
	})
}
